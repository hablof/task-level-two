### Методы API:
* POST `/create_event`
* POST `/update_event`
* POST `/delete_event`
* GET `/events_for_day`
* GET `/events_for_week`
* GET `/events_for_month`

Иная комбинация http метода и url возвращает статус `404` и сообщение об ошибке: 
```json
{
    "error":"unknown request"
}
```

### Передача параметров 
Методы ожидают передачу параметров с теле запроса в формате `x-www-form-urlencoded`.

В случае передачи некорректных данных для числовых параметров или параметров даты, методы возвращают статус `400` и сообщение в формате:
```json
{
    "error":"err msg"
}
```

Возможные сообщения об ошибке:
* `"cannot parse date"` - при передаче некорректной даты в параметре `date`
* `"cannot parse user id"` - при передаче некорректного числа в параметре `user_id`
* `"cannot parse event id"` - при передаче некорректного числа в параметре `id`


### POST /create_event
Метод создаёт запись о событии в календаре.

Ожидаемые параметры(обязательные):
* `user_id` - ID пользователя, которому присваивается событие,
* `title` - название события,
* `date` - дата или дата/время события, передаётся в формате `YYYY-MM-DD hh:mm` или в сокращённом формате `YYYY-MM-DD`.

Ожидаемые параметры(необязательные):
* `notes` - комментарии к событию.

В случае успешного создания записи, возвращается статус `200` и сообщение в формате:
```json
{
    "result": {
        "new_event_id":42
    }
}
```
где `42` - ID созданного события.

Переданные данные могут не пройти валидацию, тогда вернётся статус `503` и сообщение в формате:
```json
{
    "error":"msg"
}
```
Возможные сообщения об ошибке (возможно объединение сообщений через `\n`): 
* "new event must belong to some user", если передано `user_id` = 0,
* "new event must non-empty title", если передано `title` = "".


### POST /update_event

Метод редактирует запись в календаре.

Ожидаемый обязательный параметр: `id` - ID редактируемого события.

Ожидаемые необязательные параметры, отражающие изменение:
* `user_id` - ID пользователя, которому принадлежит событие,
* `title` - название события,
* `date` - дата или дата/время события, передаётся в формате `YYYY-MM-DD hh:mm` или в сокращённом формате `YYYY-MM-DD`,
* `notes` - комментарии к событию.

В случае успешного изменения записи, возвращается статус `200` и сообщение в формате:
```json
{
    "result": "updated"
}
```

Если переданные данные не содержат информацию для изменений, вернётся статус `503` и сообщение:
```json
{
    "error":"nothing to update"
}
```

При попытке изменить несуществующее событие вернётся статус `404` и сообщение:
```json
{
    "error":"not found"
}
```

### POST /delete_event

Метод удаляет запись о событии в календаре.

Ожидаемый обязательный параметр: `id` - ID редактируемого события.

В случае успешного удаления записи, возвращается статус `200` и сообщение в формате:
```json
{
    "result": "deleted"
}
```

При попытке удалить несуществующее событие вернётся статус `404` и сообщение:
```json
{
    "error":"not found"
}
```

### GET /events_for_day, GET /events_for_week, GET /events_for_month

Методы возвращают список запланированных в календаре событий на день, неделю и месяц соответственно.
Ожидаемые параметры (обязательные):
* `user_id` - ID пользователя, которому присваивается событие,
* `date` - дата или дата/время события, передаётся в формате `YYYY-MM-DD hh:mm` или в сокращённом формате `YYYY-MM-DD`.

В случае успешной работы, возвращается статус `200` и сообщение в формате:
```json
{
    "result": [
        {
            "id":1,
            "date":"2023-10-17 08:00",
            "user_id":1,
            "title":"work"
        },
        {
            "id":5,
            "date":"2023-10-21 22:00",
            "user_id":1,
            "title":"event with notes",
            "notes":"notes"
        },
        {
            "id":4,
            "date":"2023-11-02 13:00",
            "user_id":1,
            "title":"random event"
        }
    ]
}
```
События в массиве упорядочены по дате.

### Непредвиденные ошибки
В случае возникновения непредвиденных ошибок, сервис возвращает статус `500` и сообщение в формате:
```json
{
    "error":"msg"
}
```